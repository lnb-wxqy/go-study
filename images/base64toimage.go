package main

import (
	"encoding/base64"
	"fmt"
	"io"
	"log"
	"os"
	"strings"
)

// base64 转图片
func main() {

	str := "avjjdasdjf.jpg"
	s := str[:strings.Index(str, ".")]
	fmt.Println("s: ", s)

	photo := "data:image/jpg;base64,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"

	i := strings.Index(photo, ",")
	if i < 0 {
		log.Fatal("no comma")
	}

	dec := base64.NewDecoder(base64.StdEncoding, strings.NewReader(photo[i+1:]))
	f, err := os.Create("E:\\lnb\\go\\src\\go-study\\images\\" + "pho.jpg")
	if err != nil {
		log.Println("os.create file failed.", err)
		return
	}
	defer f.Close()
	_, err = io.Copy(f, dec)
	if err != nil {
		log.Println("io.copy failed. ", err)
		return
	}
}
